<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>äºŒç‡Ÿå¥åº·ç®¡ç†ä¸­å¿ƒ</title>
  <style>
    body {
      font-family: Arial, "Noto Sans TC", sans-serif;
      margin:0; padding:0;
      background: linear-gradient(180deg, #0f5fb6 0%, #2382e0 50%, #e6f1ff 100%);
      color:#222;
    }
    header {
      color:#fff; padding:1rem; text-align:center;
      border-bottom:1px solid rgba(255,255,255,0.3);
      backdrop-filter: blur(6px);
    }
    h1 { margin:0; font-size:1.4rem; }
    #marquee {
      overflow:hidden; white-space:nowrap;
      animation: marquee 30s linear infinite;
      font-weight:bold; margin-top:0.3rem; font-size:0.9rem;
    }
    @keyframes marquee {
      0% { transform:translateX(100%); }
      100% { transform:translateX(-100%); }
    }
    main { text-align:center; padding:1.2rem; }
    .wrap{ max-width:520px; margin:0 auto; padding:0 16px; }
    #bulletin {
      margin:0 auto 1.2rem auto; padding:1rem;
      background:#fff; color:#000;
      border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.12);
      text-align:left;
    }
    #bulletin h2 { margin-top:0; font-size:1.1rem; }
    .btn {
      display:inline-flex; align-items:center; justify-content:center;
      width:100%; margin:0.6rem 0; padding:0.9rem;
      font-size:1rem; font-weight:700;
      border:none; border-radius:12px; cursor:pointer;
      color:#fff; box-sizing:border-box;
      box-shadow:0 2px 6px rgba(0,0,0,0.15);
      transition: filter .2s, transform .1s;
    }
    .btn:hover { filter:brightness(1.04); }
    .btn:active { transform:translateY(1px); }
    .primary { background:#0f6ad8; }
    .secondary { background:#2cb36c; }
    footer {
      text-align:center; padding:0.8rem; margin-top:2rem;
      font-size:0.75rem; color:#444;
    }
    /* Modal */
    .modal { display:none; position:fixed; z-index:100; left:0; top:0;
      width:100%; height:100%; overflow:auto;
      background:rgba(0,0,0,0.55);
      padding: max(12px, env(safe-area-inset-top)) 12px max(12px, env(safe-area-inset-bottom)) 12px;
    }
    .modal-content {
      background:#fff; color:#000;
      margin:0 auto; padding:20px;
      border-radius:16px; width:calc(100% - 24px); max-width:720px;
      max-height:calc(100svh - 48px);
      overflow:auto; -webkit-overflow-scrolling:touch;
      box-shadow:0 4px 16px rgba(0,0,0,0.2);
    }
    .close { color:#333; float:right; font-size:28px; font-weight:bold; cursor:pointer; }
    .close:hover { color:#000; }
    .row-buttons{ display:flex; gap:0.75rem; margin:0.5rem 0; }
    .row-buttons .btn{ flex:1; margin:0; }
  </style>
</head>
<body>
<header>
  <h1>ğŸ“ äºŒç‡Ÿå¥åº·ç®¡ç†ä¸­å¿ƒ</h1>
  <div id="marquee">å¥åº·æ¨™èªè¼‰å…¥ä¸­...</div>
</header>

<main>
  <div class="wrap">
    <div id="bulletin">
      <h2>ä»Šæ—¥å€¼ç­äººå“¡</h2>
      <p>å°‘å°‰é¾ä¿Šä½‘ 0938-000-372<br>
         ä¸Šå£«æå•Ÿç¥¥ 0955-797-745</p>
      <small id="dutyWindow" data-auto="1" data-cycle="wed" data-length="7">
        å€¼ç­æ™‚é–“ï¼š114å¹´08æœˆ20æ—¥ ï½ 114å¹´08æœˆ27æ—¥
      </small>
    </div>

    <button id="bmiBtn" class="btn primary" type="button">BMI å›å ±</button>
    <button id="menuBtn" class="btn secondary" type="button">ä»Šæ—¥å»ºè­°èœå–®</button>
  </div>
</main>

<!-- æ¸›è„‚èœå–® Modal -->
<div id="menuModal" class="modal">
  <div class="modal-content">
    <span id="closeMenu" class="close">&times;</span>
    <h2>ä»Šæ—¥å»ºè­°èœå–®</h2>
    <div class="row-buttons">
      <button id="randBtn" class="btn primary">æŠ½ç±¤ï¼ˆé¿å…é‡è¤‡ï¼‰</button>
      <button id="byWeekBtn" class="btn secondary">ä¾æ˜ŸæœŸèœå–®</button>
    </div>
    <ul id="menuList"></ul>
    <p id="calories"></p>
  </div>
</div>

<footer>
  <p>&copy; 114 äºŒç‡Ÿå¥åº·ç®¡ç†ä¸­å¿ƒ</p>
</footer>

<script>
// Header éš¨æ©Ÿè‰²æ± 
const headerColors = [
  "linear-gradient(135deg, #0f5fb6, #2382e0)",
  "linear-gradient(135deg, #1d976c, #93f9b9)",
  "linear-gradient(135deg, #ff512f, #dd2476)",
  "linear-gradient(135deg, #654ea3, #eaafc8)"
];
document.querySelector("header").style.background =
  headerColors[Math.floor(Math.random() * headerColors.length)];

// å¥åº·æ¨™èªæ± 
const slogans = [
  "å‡è¡¡é£²é£Ÿï¼Œé«”èƒ½å¸¸é’","å¤šå–æ°´ï¼Œå°‘å–å«ç³–é£²æ–™","ç¡çœ å……è¶³ï¼Œç²¾ç¥ç™¾å€",
  "è¦å¾‹é‹å‹•ï¼Œå¼·å¥é«”é­„","æ‹’è¸é…’æª³æ¦”ï¼Œå¥åº·ä¸€ç”Ÿ","ä¸‰é¤å®šæ™‚å®šé‡ï¼Œå°‘åƒå®µå¤œ",
  "æ§åˆ¶é«”é‡ï¼Œå®ˆè­·æˆ°åŠ›","å£“åŠ›é‡‹æ”¾ï¼Œå¿ƒç†å¥åº·","æ¯é€±è‡³å°‘é‹å‹•150åˆ†é˜",
  "å°‘æ²¹å°‘é¹½å°‘ç³–ï¼Œå¤šè”¬æœé«˜çº–ç¶­"
];
document.getElementById('marquee').textContent =
  slogans[Math.floor(Math.random()*slogans.length)];

// é–‹å•Ÿ BMI è¡¨å–®
document.getElementById('bmiBtn').addEventListener('click', () => {
  window.open('https://forms.gle/cr3efubbA1WoArfp6','_blank','noopener');
});

// æ¯æ—¥èœå–® (ç¯„ä¾‹)
const menus = [
  [
    {meal:"æ—©é¤ï¼šç‡•éº¥ï¼‹æ°´ç…®è›‹ï¼‹ç„¡ç³–è±†æ¼¿", kcal:350},
    {meal:"åˆé¤ï¼šé›èƒ¸è‚‰ï¼‹ç³™ç±³ï¼‹ç‡™é’èœ", kcal:500},
    {meal:"æ™šé¤ï¼šè”¬èœæ¹¯ï¼‹è±†è…ï¼‹æ°´æœ", kcal:300}
  ],
  [
    {meal:"æ—©é¤ï¼šå…¨éº¥åå¸ï¼‹ä½è„‚ç‰›å¥¶", kcal:300},
    {meal:"åˆé¤ï¼šé®­é­šï¼‹ç³™ç±³ï¼‹é’èŠ±èœ", kcal:550},
    {meal:"æ™šé¤ï¼šè’¸è›‹ï¼‹ç‚’è èœï¼‹æ°´æœ", kcal:320}
  ]
];
const todayMenu = menus[new Date().getDay() % menus.length];
document.getElementById("menuList").innerHTML =
  todayMenu.map(i => `<li>${i.meal} (${i.kcal} kcal)</li>`).join("");
document.getElementById("calories").textContent =
  "æ¯æ—¥ç¸½ç†±é‡ï¼šç´„ " + todayMenu.reduce((a,b)=>a+b.kcal,0) + " kcal";

// Modal æ§åˆ¶
function setupModal(btnId, modalId, closeId) {
  const btn = document.getElementById(btnId);
  const modal = document.getElementById(modalId);
  const span = document.getElementById(closeId);
  btn.onclick = () => { modal.style.display = "block"; document.body.classList.add("modal-open"); }
  span.onclick = () => { modal.style.display = "none"; document.body.classList.remove("modal-open"); }
  window.addEventListener("click", e => { if (e.target==modal){ modal.style.display="none"; document.body.classList.remove("modal-open"); }});
}
setupModal("menuBtn","menuModal","closeMenu");
</script>
</body>
</html>